(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(4),u=r.n(c),i=(r(9),r(2)),o=function(e,t){var r=e,n=[];return{hit:function(e){n.push(e)},getHitTiles:function(){return n},hitTiles:n,isSunk:function(){return n.length===r},length:r,name:t}},s=function(e){var t=e,r={},n=[];return{shipPlacements:r,placeShip:function(e,t){r[e.name]={ship:e,coordinates:t}},receiveAttack:function(e){for(var t in r)if(r[t].coordinates.includes(e))return void r[t].ship.hit(e);n.push(e)},getMissedShots:function(){return n},reportAllSunk:function(){for(var e in r)if(!r[e].ship.isSunk())return!1;return!0},getId:function(){return t}}},l=function(e,t){var r=e,n=t,a=function(){return n},c=function(){return r},u=function(e){r=e},i=[],o=function(e,t,r){return c()?i.includes(r)?null:(u(!1),i.push(r),t.receiveAttack(r),e.setTurn(!0),!0):null},s=function(){var e="ABCDEFGHIJ";return e[Math.floor(Math.random()*e.length)]};return"computer"===n?{getTurn:c,setTurn:u,getPlayerId:a,attack:o,generateRandomLetter:s,getRandomCoordinate:function e(){var t=s()+(Math.floor(10*Math.random())+1);return i.includes(t)?e():t},playerHasAttacked:i}:{getTurn:c,setTurn:u,getPlayerId:a,attack:o,playerHasAttacked:i}},d=(r(10),r(1)),h=function(e){var t=e.currentShip;return Object(d.jsxs)("div",{className:"starting-header",children:["PLACE YOUR ",t.toUpperCase()]})},f=(r(12),r(13),function(e){var t=e.refWidth,r=e.refHeight,a=e.coordinate,c=e.handleHoveredTile,u=e.highlightedTiles,o=e.handleShipCoordinates,s=e.takenCoords,l=Object(n.useState)(!1),h=Object(i.a)(l,2),f=h[0],b=h[1],j=Object(n.useState)(!1),O=Object(i.a)(j,2),p=O[0],m=O[1],v=function(){b(!f)};return Object(n.useEffect)((function(){f&&c(a)}),[f]),Object(n.useEffect)((function(){u&&u.includes(a)?m(!0):m(!1)}),[p,u]),Object(d.jsx)("div",{style:{width:.1*t,height:.1*r},className:"black-border border-box tile ".concat(p?"sky-blue":null," ").concat(s.includes(a)?"green":null),"data-coordinate":a,onMouseEnter:v,onMouseLeave:v,onClick:o})}),b=(r(14),function(e){for(var t=e.refWidth,r=e.refHeight,n=e.handleHoveredTile,a=e.highlightedTiles,c=e.handleShipCoordinates,u=e.takenCoords,i="ABCDEFGHIJ".split(""),o=[],s=0;s<10;s++)for(var l=i[s],h=1;h<=10;h++){var b=l+h;o.push(Object(d.jsx)(f,{refWidth:t,refHeight:r,coordinate:b,handleHoveredTile:n,highlightedTiles:a,handleShipCoordinates:c,takenCoords:u},b))}return Object(d.jsx)("div",{className:"flex-row",children:o.map((function(e){return e}))})}),j=function(e){var t=e.width,r=e.handleStartGame,a=e.handleCurrentShip,c=e.playerGameboard,u=e.computerGameboard,o=Object(n.useState)(null),s=Object(i.a)(o,2),l=s[0],h=s[1],f=Object(n.useState)(null),j=Object(i.a)(f,2),O=j[0],p=j[1],m=Object(n.useState)([]),v=Object(i.a)(m,2),S=v[0],g=v[1],y=Object(n.useState)([]),k=Object(i.a)(y,2),T=k[0],C=k[1],x=Object(n.useState)([]),w=Object(i.a)(x,2),G=w[0],E=w[1],P=Object(n.useState)([]),H=Object(i.a)(P,2),N=H[0],A=H[1],R=Object(n.useState)([]),W=Object(i.a)(R,2),I=W[0],M=W[1],B=Object(n.useState)([]),J=Object(i.a)(B,2),D=J[0],L=J[1],U=Object(n.useState)(0),z=Object(i.a)(U,2),F=z[0],Y=z[1],q=Object(n.useState)(null),K=Object(i.a)(q,2),Q=K[0],V=K[1],X=Object(n.useState)([]),Z=Object(i.a)(X,2),$=Z[0],_=Z[1];Object(n.useEffect)((function(){h(t*(1/4)),p(l)}));var ee=function(e,t){if(e&&t){var r=!0;return e.forEach((function(e){t.includes(e)&&(r=!1)})),r}},te=function(e){var t=function(e){var t=e.match(/[a-z]+|[^a-z]+/gi),r=t[0],n=Number(t[1]),a=5-F;if(F>=3&&(a+=1),n-1+a<=10){for(var c=[],u=0;u<a;u++)c.push(r+(u+n));return c}return null}(e);if(D&&t&&ee(t,D))return void _(t)};Object(n.useEffect)((function(){Q&&te(Q)}),[Q]);var re=function(){switch(F){case 0:Y(1);break;case 1:Y(2);break;case 2:Y(3);break;case 3:Y(4);break;case 4:Y(5)}};return Object(n.useEffect)((function(){!function(){var e=[];S.forEach((function(t){return e.push(t)})),T.forEach((function(t){return e.push(t)})),G.forEach((function(t){return e.push(t)})),N.forEach((function(t){return e.push(t)})),I.forEach((function(t){return e.push(t)})),L(e)}()}),[S,T,G,N,I]),Object(n.useEffect)((function(){5===F&&r(c,u,S,T,G,N,I)})),Object(n.useEffect)((function(){a(F)}),[F]),Object(d.jsx)("div",{style:{width:l,height:O},className:"black-border purple",children:Object(d.jsx)(b,{refWidth:l,refHeight:O,highlightedTiles:$,handleHoveredTile:function(e){V(e)},handleShipCoordinates:function(){if(ee($,D))switch(F){case 0:g($),re();break;case 1:!function(e){C(e)}($),re();break;case 2:!function(e){E(e)}($),re();break;case 3:!function(e){A(e)}($),re();break;case 4:!function(e){M(e)}($),re()}},takenCoords:D})})},O=(r(15),function(e){var t=e.width,r=e.handleStartGame,a=e.playerGameboard,c=e.computerGameboard,u=Object(n.useState)("Carrier"),o=Object(i.a)(u,2),s=o[0],l=o[1];return Object(d.jsxs)("div",{className:"starting-screen",children:[Object(d.jsx)(h,{currentShip:s}),Object(d.jsx)(j,{width:t,handleCurrentShip:function(e){switch(e){case 0:l("Carrier");break;case 1:l("Battleship");break;case 2:l("Cruiser");break;case 3:l("Submarine");break;case 4:l("Destroyer")}},handleStartGame:r,playerGameboard:a,computerGameboard:c})]})}),p=(r(16),function(e){var t=e.winner,r=e.handleResetGame;return Object(d.jsxs)("div",{className:"end-header",children:[Object(d.jsxs)("div",{children:[t," Wins!"]}),Object(d.jsx)("button",{onClick:r,children:"Reset Game"})]})}),m=(r(17),r(18),function(e){var t=e.refWidth,r=e.refHeight,a=e.coordinate,c=e.shipPlacements,u=e.handleReceiveAttack,o=(e.currentTurn,e.handleSetCurrentTurn),s=e.player,l=e.enemyPlayer,h=e.gameOver,f=Object(n.useState)(!1),b=Object(i.a)(f,2),j=b[0],O=b[1],p=Object(n.useState)(!1),m=Object(i.a)(p,2),v=m[0],S=m[1],g=Object(n.useState)(!1),y=Object(i.a)(g,2),k=y[0],T=y[1],C=function(){O(!0)};return Object(n.useEffect)((function(){for(var e in c)c[e].coordinates.includes(a)&&S(!0),l.playerHasAttacked.includes(a)&&C(),c[e].coordinates.includes(a)&&c[e].ship.isSunk()&&T(!0)})),Object(d.jsxs)("div",{onClick:function(){if(!h)return l.getTurn()?(C(),u(a),void o(s)):null},style:{width:.1*t,height:.1*r},className:"black-border border-box tile","data-coordinate":a,children:[j?Object(d.jsx)("div",{style:{width:.05*t,height:.05*r,borderRadius:50},className:"".concat(v?"green":"red")}):null,k?Object(d.jsx)("div",{className:"sunk",style:{width:.1*t,height:1}}):null]})}),v=(r(19),function(e){for(var t=e.refWidth,r=e.refHeight,n=e.shipPlacements,a=e.handleReceiveAttack,c=e.currentTurn,u=e.handleSetCurrentTurn,i=e.player,o=e.enemyPlayer,s=e.gameOver,l="ABCDEFGHIJ".split(""),h=[],f=0;f<10;f++)for(var b=l[f],j=1;j<=10;j++){var O=b+j;h.push(Object(d.jsx)(m,{refWidth:t,refHeight:r,coordinate:O,shipPlacements:n,handleReceiveAttack:a,player:i,enemyPlayer:o,currentTurn:c,handleSetCurrentTurn:u,gameOver:s},O))}return Object(d.jsx)("div",{className:"flex-row",children:h.map((function(e){return e}))})}),S=function(e){var t=e.width,r=e.player,a=e.enemyPlayer,c=e.gameboard,u=e.currentTurn,o=e.handleSetCurrentTurn,s=e.gameOver,l=Object(n.useState)(null),h=Object(i.a)(l,2),f=h[0],b=h[1],j=Object(n.useState)(null),O=Object(i.a)(j,2),p=O[0],m=O[1],S=Object(n.useState)([]),g=Object(i.a)(S,2),y=(g[0],g[1],c.shipPlacements);return Object(n.useEffect)((function(){b(t*(1/4)),m(f)})),Object(n.useEffect)((function(){if("computer"===u&&"computer"===a.getPlayerId()){var e=function(){var e,t=a,n=r,u=t.getRandomCoordinate();e=u,a.attack(r,c,e),o(n)};setTimeout((function(){e()}),1e3)}}),[u]),Object(d.jsx)("div",{children:Object(d.jsx)("div",{style:{width:f,height:p},className:"black-border purple",children:Object(d.jsx)(v,{refWidth:f,refHeight:p,shipPlacements:y,handleReceiveAttack:function(e){a.attack(r,c,e)},player:r,enemyPlayer:a,currentTurn:u,handleSetCurrentTurn:o,gameOver:s})})})},g=(r(20),function(e){var t=e.width,r=e.player,n=e.computerPlayer,a=e.playerGameboard,c=e.computerGameboard,u=e.currentTurn,i=e.handleSetCurrentTurn,o=e.gameOver;return Object(d.jsxs)("div",{className:"gameboards",children:[Object(d.jsx)(S,{width:t,player:r,enemyPlayer:n,gameboard:a,currentTurn:u,handleSetCurrentTurn:i,gameOver:o}),Object(d.jsx)(S,{width:t,player:n,enemyPlayer:r,gameboard:c,currentTurn:u,handleSetCurrentTurn:i,gameOver:o})]})}),y=(r(21),function(e){var t=e.width,r=e.player,n=e.computerPlayer,a=e.playerGameboard,c=e.computerGameboard,u=e.handleSetCurrentTurn,i=e.handleResetGame,o=e.winner,s=e.gameOver,l=e.currentTurn;return Object(d.jsxs)("div",{className:"gamescreen",children:[s?Object(d.jsx)(p,{winner:o,handleResetGame:i}):Object(d.jsxs)("div",{className:"gamescreen-header",children:[l.toUpperCase(),"'S TURN!"]}),Object(d.jsx)(g,{width:t,player:r,computerPlayer:n,playerGameboard:a,computerGameboard:c,currentTurn:l,handleSetCurrentTurn:u,gameOver:s})]})});r(22);var k=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)((function(){return l(!0,"player")})),u=Object(i.a)(c,2),h=u[0],f=u[1],b=Object(n.useState)((function(){return l(!1,"computer")})),j=Object(i.a)(b,2),p=j[0],m=j[1],v=Object(n.useState)((function(){return s("Player")})),S=Object(i.a)(v,2),g=S[0],k=S[1],T=Object(n.useState)((function(){return s("Computer")})),C=Object(i.a)(T,2),x=C[0],w=C[1],G=Object(n.useState)("player"),E=Object(i.a)(G,2),P=E[0],H=E[1],N=Object(n.useState)(!1),A=Object(i.a)(N,2),R=A[0],W=A[1],I=Object(n.useState)(!1),M=Object(i.a)(I,2),B=M[0],J=M[1],D=Object(n.useState)(null),L=Object(i.a)(D,2),U=L[0],z=L[1],F=function(){a(window.innerWidth)},Y=function(){F()};Object(n.useEffect)((function(){F(),window.addEventListener("resize",Y)}));var q=function(e,t,r,n,a,c){var u=o(5,"carrier"),i=o(4,"battleship"),s=o(3,"cruiser"),l=o(3,"submarine"),d=o(2,"destroyer");e.placeShip(u,t),e.placeShip(i,r),e.placeShip(s,n),e.placeShip(l,a),e.placeShip(d,c)};return Object(n.useEffect)((function(){R&&(g.reportAllSunk()?(J(!0),z("Computer")):x.reportAllSunk()&&(J(!0),z("Player")))}),[R,P,g,x]),Object(d.jsx)("div",{className:"app-container full-width full-height gradient",children:R?Object(d.jsx)(y,{width:r,player:h,computerPlayer:p,playerGameboard:g,computerGameboard:x,handleSetCurrentTurn:function(e){!0===e.getTurn()&&H(e.getPlayerId)},handleResetGame:function(){f((function(){return l(!0,"player")})),m((function(){return l(!1,"computer")})),k((function(){return s("Player")})),w((function(){return s("Computer")})),W(!1),J(!1),H("player")},currentTurn:P,gameOver:B,winner:U}):Object(d.jsx)(O,{width:r,handleStartGame:function(e,t,r,n,a,c,u){q(e,r,n,a,c,u),q(t,r,n,a,c,u),W(!0)},playerGameboard:g,computerGameboard:x})})};u.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.dc5b120c.chunk.js.map